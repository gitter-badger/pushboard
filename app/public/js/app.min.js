/*          __              __
 *   __    /\ \            /\ \
 *  /\_\   \_\ \    ___    \_\ \     __   __  __
 *  \/\ \  /'_` \  / __`\  /'_` \  /'__`\/\ \/\ \ 
 *   \ \ \/\ \L\ \/\ \L\ \/\ \L\ \/\  __/\ \ \_/ |
 *    \ \_\ \___,_\ \____/\ \___,_\ \____\\ \___/
 *     \/_/\/__,_ /\/___/  \/__,_ /\/____/ \/__/
 *
 *  pushboard
 *  v0.0.1
 *  An open platform for data logging and display
 *  Copyright 2015
 */


!function(){ko.bindingHandlers.editableText={init:function(a,b){var c=$(a);c.attr("contenteditable",!0).addClass("ko-editableText");var d=ko.utils.unwrapObservable(b());c.text(d),c.on("blur",function(){var a=b();a($(this).text())})},update:function(a,b){var c=ko.utils.unwrapObservable(b()),d=$(a);d.text(c)}};var a=new ko.subscribable,b=function(){var b=this;b.boards=ko.observableArray(),b.selected=ko.observable(""),b.getBoards=function(a){$.getJSON("/api/v1/boards/",function(c){b.boards(c),void 0!=typeof a&&a()})},b.goToBoard=function(c){b.selected(c._id),a.notifySubscribers(c._id,"selectedBoard")},b.getBoards(function(){b.goToBoard(b.boards()[0])}),a.subscribe(function(a){var c=b.boards();for(i=0;i<c.length;i++)c[i]._id==a.id()&&(c[i].name=a.title(),c[i].description=a.description());b.boards([]),b.boards(c)},b,"updatedBoard")};ko.applyBindings(b,document.getElementById("boardsList"));var c=function(){var b=this;b.id=ko.observable(),b.title=ko.observable(),b.description=ko.observable(),b.load=function(a){$.getJSON("/api/v1/boards/"+a,function(a){b.id(a._id),b.title(a.name),b.description(a.description||"")})},b.save=function(){$.ajax({url:"/api/v1/boards/"+b.id(),type:"PUT",data:{name:b.title(),description:b.description()}}),a.notifySubscribers(b,"updatedBoard")},a.subscribe(b.load,b,"selectedBoard")};ko.applyBindings(c(),document.getElementById("board"))}();
//# sourceMappingURL=app.min.js.map